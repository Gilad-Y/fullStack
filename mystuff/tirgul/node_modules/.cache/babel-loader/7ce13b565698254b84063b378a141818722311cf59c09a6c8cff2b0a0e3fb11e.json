{"ast":null,"code":"export class TaskState {\n  constructor() {\n    this.tasks = [];\n  }\n}\nexport let TasksActionType = /*#__PURE__*/function (TasksActionType) {\n  TasksActionType[\"addTask\"] = \"addTask\";\n  TasksActionType[\"removeTask\"] = \"removeTask\";\n  TasksActionType[\"downloadTasks\"] = \"downloadTasks\";\n  return TasksActionType;\n}({});\nexport function addTask(newTask) {\n  return {\n    type: TasksActionType.addTask,\n    payload: newTask\n  };\n}\nexport function removeTask(id) {\n  return {\n    type: TasksActionType.removeTask,\n    payload: id\n  };\n}\nexport function downloadTask(tasks) {\n  return {\n    type: TasksActionType.downloadTasks,\n    payload: tasks\n  };\n}\nexport const TasksReducer = function () {\n  let currentState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new TaskState();\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const newState = {\n    ...currentState\n  };\n  switch (action.type) {\n    case TasksActionType.addTask:\n      newState.tasks = [...newState.tasks, action.payload];\n      localStorage.setItem(\"tasks\", JSON.stringify(newState.tasks));\n      break;\n    case TasksActionType.removeTask:\n      newState.tasks = [...newState.tasks].filter(item => item.id != action.payload);\n      localStorage.setItem(\"tasks\", JSON.stringify(newState.tasks));\n      break;\n    case TasksActionType.downloadTasks:\n      newState.tasks = action.payload;\n      break;\n  }\n  return newState;\n};\n_c = TasksReducer;\nvar _c;\n$RefreshReg$(_c, \"TasksReducer\");","map":{"version":3,"names":["TaskState","constructor","tasks","TasksActionType","addTask","newTask","type","payload","removeTask","id","downloadTask","downloadTasks","TasksReducer","currentState","arguments","length","undefined","action","newState","localStorage","setItem","JSON","stringify","filter","item","_c","$RefreshReg$"],"sources":["D:/fullStack/mystuff/tirgul/src/Components/redux/tasksReducer.ts"],"sourcesContent":["import { Tasks } from \"../modal/taskModal\";\r\n\r\nexport class TaskState{\r\n    public tasks:Tasks[]=[];\r\n}\r\n\r\nexport enum TasksActionType{\r\n    addTask=\"addTask\",\r\n    removeTask=\"removeTask\",\r\n    downloadTasks=\"downloadTasks\",\r\n}\r\nexport interface TasksAction{\r\n    type:TasksActionType;\r\n    payload?:any;\r\n}\r\nexport function addTask(newTask:Tasks):TasksAction{\r\n    return{\r\n        type:TasksActionType.addTask,\r\n        payload:newTask,\r\n    }\r\n}\r\nexport function removeTask(id:number):TasksAction{\r\n    return{\r\n        type:TasksActionType.removeTask,\r\n        payload:id,\r\n    }\r\n    \r\n}\r\nexport function downloadTask(tasks:Tasks[]):TasksAction{\r\n    return{\r\n        type:TasksActionType.downloadTasks,\r\n        payload:tasks,\r\n    }\r\n}\r\nexport const TasksReducer=(\r\n    currentState:TaskState=new TaskState(),\r\n    action:TasksAction):TaskState=>{\r\n        const newState={...currentState};\r\n        switch(action.type){\r\n        case TasksActionType.addTask:\r\n            newState.tasks=[...newState.tasks, action.payload]\r\n            localStorage.setItem(\"tasks\",JSON.stringify(newState.tasks))\r\n            break;\r\n        case TasksActionType.removeTask:\r\n            newState.tasks=[...newState.tasks].filter(\r\n            (item)=>item.id != action.payload\r\n            )\r\n            localStorage.setItem(\"tasks\",JSON.stringify(newState.tasks))\r\n            break;\r\n        case TasksActionType.downloadTasks:\r\n            newState.tasks=action.payload;\r\n            break;\r\n    }\r\n    return newState;\r\n}\r\n"],"mappings":"AAEA,OAAO,MAAMA,SAAS;EAAAC,YAAA;IAAA,KACXC,KAAK,GAAS,EAAE;EAAA;AAC3B;AAEA,WAAYC,eAAe,0BAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAA,OAAfA,eAAe;AAAA;AAS3B,OAAO,SAASC,OAAOA,CAACC,OAAa,EAAa;EAC9C,OAAM;IACFC,IAAI,EAACH,eAAe,CAACC,OAAO;IAC5BG,OAAO,EAACF;EACZ,CAAC;AACL;AACA,OAAO,SAASG,UAAUA,CAACC,EAAS,EAAa;EAC7C,OAAM;IACFH,IAAI,EAACH,eAAe,CAACK,UAAU;IAC/BD,OAAO,EAACE;EACZ,CAAC;AAEL;AACA,OAAO,SAASC,YAAYA,CAACR,KAAa,EAAa;EACnD,OAAM;IACFI,IAAI,EAACH,eAAe,CAACQ,aAAa;IAClCJ,OAAO,EAACL;EACZ,CAAC;AACL;AACA,OAAO,MAAMU,YAAY,GAAC,SAAAA,CAAA,EAES;EAAA,IAD/BC,YAAsB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,IAAId,SAAS,CAAC,CAAC;EAAA,IACtCiB,MAAkB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACd,MAAME,QAAQ,GAAC;IAAC,GAAGL;EAAY,CAAC;EAChC,QAAOI,MAAM,CAACX,IAAI;IAClB,KAAKH,eAAe,CAACC,OAAO;MACxBc,QAAQ,CAAChB,KAAK,GAAC,CAAC,GAAGgB,QAAQ,CAAChB,KAAK,EAAEe,MAAM,CAACV,OAAO,CAAC;MAClDY,YAAY,CAACC,OAAO,CAAC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAChB,KAAK,CAAC,CAAC;MAC5D;IACJ,KAAKC,eAAe,CAACK,UAAU;MAC3BU,QAAQ,CAAChB,KAAK,GAAC,CAAC,GAAGgB,QAAQ,CAAChB,KAAK,CAAC,CAACqB,MAAM,CACxCC,IAAI,IAAGA,IAAI,CAACf,EAAE,IAAIQ,MAAM,CAACV,OAC1B,CAAC;MACDY,YAAY,CAACC,OAAO,CAAC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAChB,KAAK,CAAC,CAAC;MAC5D;IACJ,KAAKC,eAAe,CAACQ,aAAa;MAC9BO,QAAQ,CAAChB,KAAK,GAACe,MAAM,CAACV,OAAO;MAC7B;EACR;EACA,OAAOW,QAAQ;AACnB,CAAC;AAAAO,EAAA,GApBYb,YAAY;AAAA,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}